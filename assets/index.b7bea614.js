import{o as i,c,a as u,d as y,n as I,r as v,s as $,b as a,e as h,t as m,u as r,f as b,g as S,h as D,i as l,j as F,k as w,w as f,v as g,F as T,l as E,m as L,p as k,q as A,T as O,x as B,y as N,z as M}from"./modules.e10f35ba.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const _ of n.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&s(_)}).observe(document,{childList:!0,subtree:!0});function d(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=d(e);fetch(e.href,n)}})();const x=(t,o)=>{const d=t.__vccOpts||t;for(const[s,e]of o)d[s]=e;return d},P={},U={id:"title-bar",class:"text-center my-5"},V=u("a",{id:"title-link",class:"font-mono no-underline text-colors select-none text-2xl",href:"https://github.com/CQBerry/Todos"},[u("h1",null,"/ Todos! /")],-1),z=[V];function j(t,o){return i(),c("nav",U,z)}const H=x(P,[["render",j]]),C={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_IS_TAURI==="1",p=y({id:"todoStore",state:()=>{var t;return{todos:(t=JSON.parse(localStorage.getItem("todos")))!=null?t:[],hideCheckedTodos:localStorage.getItem("hideCheckedTodos")==="1",addedTodo:{todoTitle:"Untitled",todoDescription:""}}},getters:{uncheckedTodos:t=>t.todos.filter(o=>!o.todoChecked)},actions:{getTodo(t){const o=this.todos.findIndex(d=>d.todoId===t);return[this.todos[o],o]},toggleHide(){this.hideCheckedTodos=!this.hideCheckedTodos,localStorage.setItem("hideCheckedTodos",this.hideCheckedTodos?"1":"0")},updateTodo(){localStorage.setItem("todos",JSON.stringify(this.todos))},addTodo(){if(this.addedTodo.todoTitle.trim()!=="")this.todos.push({todoId:I(),todoCreatedTime:Date.now(),todoTitle:this.addedTodo.todoTitle.trim(),todoDescription:this.addedTodo.todoDescription.trim(),todoChecked:!1}),this.addedTodo.todoTitle="Untitled",this.addedTodo.todoDescription="";else{const t="Please fill in the todo title";C?v(t,{type:"warning",title:"Todos!"}):alert(t)}},checkTodo(t){t.todoChecked=!t.todoChecked},async deleteTodo(t){const o="Confirm to delete this todo?";if(C?await $(o,{type:"warning",title:"Todos!"}):confirm(o)){const[,s]=this.getTodo(t);this.todos.splice(s,1)}},pinTodo(t){const[o,d]=this.getTodo(t);this.todos.splice(d,1),this.todos.unshift(o)}}}),q=a({__name:"ToggleHide",setup(t){const o=p(),d=h(()=>o.hideCheckedTodos?"\u{1F60E}":"\u{1F610}");return(s,e)=>(i(),c("a",{id:"toggle-hide",class:"font-mono actions function-colors",onClick:e[0]||(e[0]=n=>r(o).toggleHide())},m(r(d))+" Toggle checked todos visibility",1))}}),R=a({__name:"ToggleColorMode",setup(t){const o=b(),d=S(o),s=h(()=>o.value?"dark.png":"light.png");D(s);const e=h(()=>o.value?"\u{1F90D}":"\u{1F5A4}");return(n,_)=>(i(),c("a",{id:"toggle-color-mode",class:"font-mono actions function-colors",onClick:_[0]||(_[0]=lo=>r(d)())},m(r(e))+" Toggle color mode",1))}}),J={id:"funcs-nav",class:"mb-2.5 grid"},Q=a({__name:"FunctionsBar",setup(t){return(o,d)=>(i(),c("nav",J,[l(q),l(R)]))}}),G=a({__name:"PinTodo",props:{todoId:null},setup(t){const o=p();return(d,s)=>(i(),c("a",{class:"pin actions blue-action-colors",onClick:s[0]||(s[0]=e=>r(o).pinTodo(t.todoId))},"\u{1F4CC} Pin"))}}),K=a({__name:"CheckTodo",props:{todo:null},setup(t){const o=t,d=p(),s=h(()=>o.todo.todoChecked?"\u2705 Checked":"\u270F\uFE0F Check");return(e,n)=>(i(),c("a",{class:"check actions green-action-colors",onClick:n[0]||(n[0]=_=>r(d).checkTodo(t.todo))},m(r(s)),1))}}),W=a({__name:"DeleteTodo",props:{todoId:null},setup(t){const o=p();return(d,s)=>(i(),c("a",{class:"delete actions red-action-colors",onClick:s[0]||(s[0]=e=>r(o).deleteTodo(t.todoId))},"\u274C Delete"))}}),X={class:"time text-colors"},Y=a({__name:"TodoTime",props:{todoCreatedTime:null},setup(t){const d=F(t.todoCreatedTime).format("MM/DD");return(s,e)=>(i(),c("p",X,"# "+m(r(d)),1))}}),Z={class:"todos border-solid border-[3px] rounded-md shadows font-mono border-colors todo-background-colors p-8"},oo={class:"text-colors mb-4 truncate"},to=a({__name:"TodoItem",props:{todoId:null},setup(t){const o=t,d=p(),[s]=d.getTodo(o.todoId);return(e,n)=>(i(),c("section",Z,[l(Y,{"todo-created-time":r(s).todoCreatedTime},null,8,["todo-created-time"]),u("h1",{style:w({textDecoration:r(s).todoChecked?"line-through":"none"}),class:"text-colors text-4xl mt-2 mb-4 truncate"},m(r(s).todoTitle),5),u("p",oo,m(r(s).todoDescription||r(s).todoTitle),1),u("menu",null,[l(G,{"todo-id":t.todoId},null,8,["todo-id"]),l(K,{todo:r(s)},null,8,["todo"]),l(W,{"todo-id":t.todoId},null,8,["todo-id"])])]))}}),eo=a({__name:"AddTodoInputArea",setup(t){const o=p(),{addedTodo:d}=o;return(s,e)=>(i(),c(T,null,[f(u("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>r(d).todoTitle=n),class:"inputs col-span-3",placeholder:"Todo title (required)",type:"text"},null,512),[[g,r(d).todoTitle,void 0,{lazy:!0}]]),f(u("textarea",{"onUpdate:modelValue":e[1]||(e[1]=n=>r(d).todoDescription=n),class:"inputs resize-none col-span-3",placeholder:"Todo description"},`
    `,512),[[g,r(d).todoDescription,void 0,{lazy:!0}]])],64))}}),so={id:"add-todo",class:"grid gap-4 p-6 rounded-md border-dotted border-4 font-mono border-colors todo-background-colors shadows"},no=a({__name:"AddTodo",setup(t){const o=p();return(d,s)=>(i(),c("section",so,[l(eo),u("a",{id:"insert",class:"actions green-action-colors",onClick:s[0]||(s[0]=e=>r(o).addTodo())},"\u2712\uFE0F Insert")]))}}),ro=a({__name:"TodoList",setup(t){const o=p();window.addEventListener("beforeunload",()=>{o.updateTodo()});const{idle:d}=E(5e3);return L(d,()=>{d.value&&o.updateTodo()}),(s,e)=>(i(),k(O,{id:"todo-list",class:"grid gap-5 grid-cols-todo auto-rows-fr",name:"list",tag:"main"},{default:A(()=>[(i(!0),c(T,null,B(r(o).hideCheckedTodos?r(o).uncheckedTodos:r(o).todos,n=>(i(),k(to,{key:n.todoId,"todo-id":n.todoId},null,8,["todo-id"]))),128)),l(no,{key:"0"})]),_:1}))}});const io=x(ro,[["__scopeId","data-v-3e8cc45e"]]),co=a({__name:"App",setup(t){return(o,d)=>(i(),c(T,null,[u("header",null,[l(H),l(Q)]),l(io)],64))}});const ao=N();M(co).use(ao).mount("#app");console.log("\u{1F60E} Todos! by CHINQ");
